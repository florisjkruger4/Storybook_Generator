<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>test</title>

    <!-- JQuery Script -->
    <script src="https://code.jquery.com/jquery-3.6.3.min.js" integrity="sha256-pvPw+upLPUjgMXY0G+8O0xUf+/Im1MZjXxxgOcBQBXU=" crossorigin="anonymous"></script>

</head>

<style>
    #cont1{
    height:100px;
    background:red;
    margin-bottom:10px;
    padding:10px;
    }
    #cont2{
        height:100px;
        background:blue;
        margin-bottom:10px;
        padding:10px;
    }
    #cont3{
        height:100px;
        background:yellow;
        margin-bottom:10px;
        padding:10px;
    }
</style>

<body>
    <div id="cont1">
        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed dictum augue vel nisl elementum tempor. Fusce non dictum leo. Pellentesque lorem orci, feugiat vitae semper eu, sodales pulvinar ipsum. Suspendisse ornare condimentum nibh, eget aliquam tellus rutrum id. Vestibulum tempus, eros at sollicitudin euismod, velit tellus tempus leo, sed mollis eros dolor ut ante. Pellentesque egestas tristique sapien sed commodo. Vestibulum mollis congue odio sed auctor. Integer turpis dolor, mattis vel iaculis ac, laoreet eget est. Nulla venenatis lorem at leo aliquet et ultrices sapien facilisis. Maecenas lacinia interdum malesuada. Mauris et orci id quam dapibus tincidunt id ut nunc. Aenean lacinia imperdiet elit, in tristique erat fermentum at. Morbi pretium placerat viverra. Morbi molestie urna vel erat malesuada suscipit. Donec fringilla, neque ac porttitor tempor, tortor felis venenatis sapien, in vehicula est mi a massa. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Duis aliquam mi sagittis justo aliquet ultrices. Mauris consequat congue pretium. Pellentesque egestas aliquet rhoncus. Nunc pulvinar magna a sapien vulputate vehicula. Proin at lacus quam. Aliquam erat volutpat. Etiam iaculis lacinia risus ac porta. Sed neque arcu, condimentum et placerat eget, dignissim quis velit. Suspendisse id volutpat mi. Sed lectus libero, commodo a consectetur et, porta vel magna. Praesent accumsan consectetur tincidunt.  Aliquam erat volutpat. Etiam iaculis lacinia risus ac porta. Sed neque arcu, condimentum et placerat eget, dignissim quis velit. Suspendisse id volutpat mi. Sed lectus libero, commodo a consectetur et, porta vel magna. Praesent accumsan consectetur tincidunt.  Aliquam erat volutpat. Etiam iaculis lacinia risus ac porta. Sed neque arcu, condimentum et placerat eget, dignissim quis velit. Suspendisse id volutpat mi. Sed lectus libero, commodo a consectetur et, porta vel magna. Praesent accumsan consectetur tincidunt. Etiam iaculis lacinia risus ac porta. Sed neque arcu, condimentum et placerat eget, dignissim quis velit. Suspendisse id volutpat mi. Sed lectus libero, commodo a consectetur et, porta vel magna. Praesent accumsan consectetur tincidunt. Etiam iaculis lacinia risus ac porta. Sed neque arcu, condimentum et placerat eget, dignissim quis velit. Suspendisse id volutpat mi. Sed lectus libero, commodo a consectetur et, porta vel magna. Praesent accumsan consectetur tincidunt. Etiam iaculis lacinia risus ac porta. Sed neque arcu, condimentum et placerat eget, dignissim quis velit. Suspendisse id volutpat mi. Sed lectus libero, commodo a consectetur et, porta vel magna. Praesent accumsan consectetur tincidunt.</p>
    </div>
    <div style="height: 30px;"></div>
    <div id="cont2">
        <p></p>
    </div>
    <div style="height: 30px;"></div>
    <div id="cont3">
        <p></p>
    </div>


    <audio controls>
        <source src="/static/audio/fantasy.mp3" type="audio/mpeg">
    </audio>

    
    
    <script>
        //existing text must be rendered in the first container so we know how high it is compared to the div
        //get references to avoid overhead in jQuery
        var cont1 = $('#cont1');
        var cont1Height = cont1.height();

        var p1 = $('#cont1 p');
        var p1Height = p1.height();

        var cont2 = $('cont2');
        var p2 = $('#cont2 p');

        var cont3 = $('cont3');
        var p3 = $('#cont3 p');

        //get text and explode it as an array
        var p1text = p1.text();
        p1text = p1text.split('');

        //prepare p2 text
        p2text = [];

        //if greater height
        while (p1Height > cont1Height) {

            //remove last character
            lastChar = p1text.pop();

            //prepend to p2 text
            p2text.unshift(lastChar);

            //reassemble p1 text
            p1temp = p1text.join('');

            //place back to p1
            p1.text(p1temp);

            //re-evaluate height
            p1Height = p1.height();

            //loop
        }

        //if less than, assemble p2 text and render to p2 container
        p2.text(p2text.join(''));

        var cont2Height = 100;

        var p2Height = p2.height();


        //get text and explode it as an array
        var p2text = p2.text();
        p2text = p2text.split('');

        //prepare p3 text
        p3text = [];

        console.log("cont1Height: " + cont1Height)
        console.log("p1Height: " + p1Height)
        console.log("cont2Height: " + cont2Height)
        console.log("p2Height: " + p2Height)

        //if greater height
        while (p2Height > cont2Height) {

            //remove last character
            lastChar = p2text.pop();

            //prepend to p2 text
            p3text.unshift(lastChar);

            //reassemble p1 text
            p2temp = p2text.join('');

            //place back to p1
            p2.text(p2temp);

            //re-evaluate height
            p2Height = p2.height();

            //loop
        }

        //if less than, assemble p2 text and render to p2 container
        p3.text(p3text.join(''));

    </script>
</body>
</html>